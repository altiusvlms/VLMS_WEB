<!-- /** Super Admin Advanced Search */ -->
<div class="container">
    <div class="header_title">
        <h2>Advance Search</h2>
        <button type="button" class="close" aria-label="Close" (click)="close()">
            <span aria-hidden="true">&times;</span>
          </button>
    </div>
    <div class="card">
      <div class="card-body">
        <form [formGroup]="advanceSearchForms">
        <div class="row">
          <div class="col-sm-3">
            <mat-form-field appearance="outline" class="example-full-width">
                <mat-label>Select Branch</mat-label>
                <mat-select >
                    <mat-option value="gandhipuram">Gandhipuram</mat-option>
                    <mat-option value="thudiyalur">Thudiyalur</mat-option>
                    <mat-option value="sulur">Sulur</mat-option>
                </mat-select>
            </mat-form-field>
            </div>
            <div class="col-sm-3">
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-label>AGT NO</mat-label>
                  <input matInput type='text' formControlName="accountNo" (keyup)="applyFilter($event, 'accountNumber')" >
              </mat-form-field>
            </div>
            <div class="col-sm-3">
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-label>Name</mat-label>
                  <input matInput type='text' formControlName="customerName" (keyup)="applyFilter($event, 'name')" >
              </mat-form-field>
            </div>
         
            <div class="col-sm-3">
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-label>Vehicle No</mat-label>
                  <input matInput type='text' formControlName="vehicleNo"  #input [value]="input.value.toUpperCase()" (keyup)="applyFilter($event, 'vehicleno')" >
              </mat-form-field>
            </div>
            <div class="col-sm-3">
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-label>Mobile No</mat-label>
                  <input matInput type='text' formControlName="customerMobileNo" (keyup)="applyFilter($event, 'mobileno')" >
              </mat-form-field>
            </div>
            <div class="col-sm-3">
              <mat-form-field appearance="outline" class="example-full-width">
                <mat-label>Guarantor Name</mat-label>
                <input matInput type='text' formControlName="guarantorName" (keyup)="applyFilter($event, 'guarantorname')" >
            </mat-form-field>
          </div>
          <div class="col-sm-3">
            <mat-form-field appearance="outline" class="example-full-width">
              <mat-label>Guarantor Mobile No</mat-label>
              <input matInput type='text' formControlName="guarantorMobileNo" (keyup)="applyFilter($event, 'guarantormobileno')" >
          </mat-form-field>
        </div>

            <div class="col-sm-3">
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-label>Loan Amount</mat-label>
                  <input matInput type='text' formControlName="loanAmount" (keyup)="applyFilter($event, 'loanamount')" >
              </mat-form-field>
            </div>
            <div class="col-sm-3">
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-label>ID Proof</mat-label>
                  <input matInput type='text' formControlName="idProof" >
              </mat-form-field>
            </div>
            <div class="col-sm-3">
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-label>Area</mat-label>
                  <input matInput type='text' >
              </mat-form-field>
            </div>
            <div class="col-sm-3">
                <mat-form-field appearance="outline" class="example-full-width">
                  <mat-label>Dealer</mat-label>
                  <mat-select >
                    <mat-option value="dealer1">Dealer1</mat-option>
                    <mat-option value="dealer2">Dealer2</mat-option>
                    <mat-option value="dealer3">Dealer3</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
    
          <div class="col-12 col-sm-12">
            <button  type="button"   class="btn btn-secondary" (click)="searchdata()">Search</button>
            <button type="button" class="btn btn-primary" (click)="clearSearch()">Clear Search</button>
          </div>
        </div>
        </form>
      </div>
    </div>
  
  <!-- /** Super Admin Advanced Search Table List */ -->
    <div class="card">
      <div class="card-body">
        <table class="table table-striped">
            <thead>
                <tr>
                  <th>Customer Image</th>
                  <th>Name</th>
                  <th>Mobile No</th>
                  <th>Branch</th>
                  <th>Vehicle No</th>
                  <th>Guarantor Name</th>
                  <th>Guarantor MobileNo</th>
                  <th>AGT NO</th>
                  <th>Loan Amount</th>
                  <th>Payment Status</th>
                  <th>Due Date</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody *ngFor="let customerData of customerLoanDetails;let i=index">
                <tr>
                  <td><img [src]="allCustomerImage[i]?.image" style="width: 50%;object-fit: contain;
                    object-position: center;"></td>
                  <td>{{customerData?.customerName}}</td>
                  <td>{{customerData?.customerDetails.mobileNo}}</td>
                  <td></td>
                  <td>{{customerData?.vehicleDetails.vehicleNumber}}</td>
                  <td>{{customerData?.customerGuarantor.guarantorName}}</td>
                  <td>{{customerData?.customerGuarantor.mobileNumber}}</td>
                  <td>{{customerData?.bankDetails.accountNumber}}</td>
                  <td>{{customerData?.loanDetailsData.loanAmount}}</td>
                  <td></td>
                  <td>{{customerData?.loanDetailsData.dueDate | date:'dd MMMM yyyy'}}</td>
                  <td>
                    <span  class="material-icons" matTooltip="Edit" (click)="editCustomer(customerData.id)">edit</span>
                    <span>Receipt</span>
                    <span>ReLoan</span>
                    <span>CloseLoan</span>
                  </td>
                </tr>
              </tbody>
        </table>
        <div *ngIf="customerLoanDetails.length == 0">
            No Data Found.
        </div>
        </div>
    </div>
  </div>